<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <title>AppBase v3.0 • Clean</title>
    <link rel="stylesheet" href="./app.css" />
  </head>
  <body>
    <div class="ac-clean" data-app-root data-testid="clean-shell">
      <div class="ac-clean__wrap">
        <header class="ac-clean__header">
          <div class="ac-clean__header-inner">
            <span class="ac-clean__brand">Projeto Marco</span>
            <span class="ac-clean__version" data-version data-testid="app-version">AppBase v3.0 • Clean</span>
          </div>
        </header>

        <main class="ac-clean__main ac-grid" data-clean-main>
          <section class="ac-card ac-card--span-12" id="sec-login" data-testid="login-card">
            <div class="ac-card__head">
              <h2 class="ac-card__title">Conta</h2>
              <p class="ac-card__subtitle">Entre com seu e-mail para liberar as ações.</p>
            </div>
            <label class="ac-field" for="email">
              <span class="ac-field__label">E-mail</span>
              <input
                id="email"
                type="email"
                autocomplete="email"
                placeholder="seu@email.com"
                data-testid="email-input"
              />
            </label>
            <div class="ac-row">
              <button class="ac-button" id="btnLogin" data-testid="login-button">Entrar</button>
              <button class="ac-button ac-button--muted" id="btnLogout" data-testid="logout-button">Sair</button>
            </div>
            <p class="ac-hint" id="who" role="status" aria-live="polite" data-testid="session-indicator">
              Não logado
            </p>
          </section>

          <section class="ac-card ac-card--span-6" id="sec-billing" data-testid="billing-card">
            <div class="ac-card__head">
              <h2 class="ac-card__title">Assinatura</h2>
              <p class="ac-card__subtitle">Assinar o plano PRO via Mercado Pago.</p>
            </div>
            <div class="ac-row">
              <button class="ac-button" id="btnSubscribe" data-testid="subscribe-button">Assinar PRO</button>
              <button class="ac-button ac-button--ghost" id="btnPlans" data-testid="plans-button">
                Ver planos (API)
              </button>
            </div>
            <p class="ac-alert">Após autorização do pagamento, sua licença será validada automaticamente.</p>
          </section>

          <section class="ac-card ac-card--span-6" id="sec-status" data-testid="status-card">
            <div class="ac-card__head">
              <h2 class="ac-card__title">Status da licença</h2>
              <p class="ac-card__subtitle">Consulte o worker para confirmar a situação atual.</p>
            </div>
            <div class="ac-row">
              <button class="ac-button" id="btnValidate" data-testid="validate-button">Validar agora</button>
            </div>
            <pre id="out" class="ac-log" aria-live="polite" data-testid="status-log"></pre>
          </section>
        </main>

        <footer class="ac-clean__footer">
          <span class="ac-footnote">© 5Horas • Base pronta para receber MiniApp</span>
        </footer>
      </div>

      <div class="ac-clean__desktop-overlay" aria-hidden="true" data-testid="desktop-overlay">
        <div class="ac-clean__desktop-overlay-content">
          <h2 class="ac-clean__overlay-title">Modo somente mobile</h2>
          <p class="ac-clean__overlay-text">
            Abra em um smartphone para continuar. Largura de tela detectada como desktop.
          </p>
        </div>
      </div>
    </div>

    <script type="module" src="./app.js"></script>
  </body>
</html>
