/*
  AC — CSS Base + App (v1.2)
  Arquivo único para publicação (equivale a /shared/app.base.css + /shared/gestaoEventosApp.css).
  ──────────────────────────────────────────────────────────────────────────────
  LOG DE EDIÇÃO
  - 2025-10-04 v1.2
    • Details fechados não ocupam espaço: details:not([open]) .details-wrap {display:none}
    • Remoção de margem padrão dos <details>
    • Barra de ações fixa no topo direito dos painéis (.details-actions)
    • Destaque visual quando um painel está aberto (#sec* [open] .details-wrap)
    • Tokens e componentes permanecem referenciando variáveis (tema claro/escuro)
  - 2025-10-04 v1.1
    • Introdução dos tokens de tema (light/dark) e revisão de componentes para usar var(--*)
*/

/* ───────────────────────────
   TOKENS DE TEMA (LIGHT/DARK)
   ─────────────────────────── */
:root{
  color-scheme: light;
  --text: #111111;
  --muted: #6b7280;
  --surface: #ffffff;
  --surface-2: #f8fafc;
  --card: #ffffff;
  --border: #e5e7eb;
  --shadow: 0 1px 2px rgba(0,0,0,.06);
  --accent-600: #0b65c2;
  --ok-600: #16a34a;
  --ok-50: #e8f6ee;
  --warn-600: #ff9a3e;
  --warn-50: #fff7ed;
  --danger-600: #ef4444;
  --danger-50: #fee2e2;
  --focus: #3b82f6;
}

html[data-theme="dark"]{
  color-scheme: dark;
  --text: #e7eaf0;
  --muted: #a9b0bd;
  --surface: #0f1012;
  --surface-2: #16181c;
  --card: #13151a;
  --border: #2a2e36;
  --shadow: 0 1px 2px rgba(0,0,0,.4);
  --accent-600: #6aa8ff;
  --ok-600: #37b26c;
  --ok-50: rgba(55,178,108,.12);
  --warn-600: #ff9a3e;
  --warn-50: rgba(255,154,62,.12);
  --danger-600: #ff6b6b;
  --danger-50: rgba(255,107,107,.12);
  --focus: #8ab4ff;
}

html.theme-transition *{
  transition: background-color .2s, color .2s, border-color .2s;
}

body{
  background: var(--surface);
  color: var(--text);
}

.small{ font-size: .85rem; }
.muted{ color: var(--muted); }

.container{
  max-width: 1140px;
  margin: 0 auto;
  padding: 16px;
  box-sizing: border-box;
}

.app-title{
  margin: 0 0 4px 0; line-height: 1.2;
}

.row{ display:flex; gap:12px; flex-wrap:wrap; align-items:center; }

.badge-grid{
  display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:12px;
}

.card{
  background:var(--card); border:1px solid var(--border); border-radius:12px; box-shadow:var(--shadow); padding:16px;
}

.badge{
  background:var(--card); border:1px solid var(--border); border-radius:12px; box-shadow:var(--shadow); padding:12px;
}

.details-wrap{
  background:var(--surface); border:1px solid var(--border); border-radius:12px; padding:12px; position:relative;
}

/* NEW v1.2 — Details sem espaço quando fechados */
/* Oculta o conteúdo quando o <details> está fechado */
.details > .details-wrap{ /* segurança caso haja HTML divergente */ }

details{ margin:0; }

details:not([open]) .details-wrap{ display:none; }

/* Barra de ações (ex.: botão Fechar) alinhada no topo direito */
.details-actions{ position:absolute; top:12px; right:12px; display:flex; gap:8px; }

/* Destaque leve quando um painel está aberto */
#secControle[open] .details-wrap,
#secEvento[open] .details-wrap,
#secAnfitriao[open] .details-wrap,
#secCerimonial[open] .details-wrap{
  border-color: var(--warn-600);
  background: var(--warn-50);
}

.hdr-sync{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }

#hdr_sync_badge{
  display:flex; align-items:center; gap:6px; border:1px solid var(--border); border-radius:12px; padding:2px 8px; background:var(--surface);
}
#hdr_sync_badge.active{ background:var(--warn-50); border-color:var(--warn-600); }

.twocol{ display:grid; grid-template-columns:1fr 1fr; gap:12px; }
.threecol{ display:grid; grid-template-columns:1fr 1fr 1fr; gap:12px; }

.field label{ display:block; margin-bottom:4px; }

.field input,
.field select,
.field textarea{
  width:100%; box-sizing:border-box; background:var(--surface); color:var(--text);
  border:1px solid var(--border); border-radius:10px; padding:10px 12px;
}

.kv{ display:grid; grid-template-columns:auto 1fr; column-gap:12px; row-gap:4px; }
.kv dt{ margin:0; color:var(--muted); font-weight:600; }
.kv dd{ margin:0; }

.btn{
  appearance:none; border:1px solid var(--border); background:var(--surface); color:var(--text);
  border-radius:10px; padding:8px 12px; cursor:pointer; line-height:1;
}
.btn--ghost{ background:transparent; }
.btn.danger{ color:var(--danger-600); }

.edit-btn{
  border:1px solid var(--border); background:var(--surface); color:var(--text);
  border-radius:10px; padding:4px 8px; cursor:pointer; line-height:1;
}
.edit-btn[data-toggle="provider"]{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-width:180px;
  font-weight:600;
}
.edit-btn[data-toggle="provider"][data-state="on"]{
  background:var(--accent-600);
  color:#ffffff;
  border-color:var(--accent-600);
}
.edit-btn[data-toggle="provider"][data-state="on"]:hover{
  box-shadow:0 0 0 3px rgba(11,101,194,.18) inset;
}
.edit-btn[data-toggle="provider"][data-degraded="true"]{
  box-shadow:0 0 0 2px rgba(255,154,62,.45) inset;
}
.btn:focus,.edit-btn:focus{ outline:2px solid var(--focus); outline-offset:2px; }

.pill{ display:inline-block; border-radius:999px; padding:4px 10px; font-size:.85rem; }
.pillok{ background:var(--ok-50); color:var(--ok-600); }
.pillwarn{ background:var(--warn-50); color:var(--warn-600); }
.pillsaving{ background:var(--accent-600); color:#ffffff; }

.sync-host{
  width:min(33.333%,460px); min-width:280px; box-sizing:border-box; border:1px solid var(--border);
  border-radius:12px; padding:12px; background:var(--surface);
}

.close-hint{ margin-top:8px; color:var(--muted); font-size:.85rem; }
