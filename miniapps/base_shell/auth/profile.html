<!DOCTYPE html>
<html lang="pt-BR" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title data-i18n="auth.profile.title">Perfil</title>
    <script>
      (function () {
        const root = document.documentElement;
        let mode = 'panel';
        try {
          const params = new URLSearchParams(window.location.search);
          const embed = params.get('embed');
          if (embed && embed.toLowerCase() === 'inline') {
            mode = null;
          } else if (embed && embed.toLowerCase() === 'panel') {
            mode = 'panel';
          } else if (window.self === window.top) {
            mode = null;
          }
        } catch (error) {
          if (window.self === window.top) {
            mode = null;
          }
        }
        if (mode === 'panel') {
          root.dataset.embedMode = 'panel';
        } else {
          delete root.dataset.embedMode;
        }
      })();
    </script>
    <link rel="stylesheet" href="../styles.css" />
  </head>
  <body>
    <div class="app-shell">
      <header class="app-header" role="banner">
        <img
          id="logo"
          class="brand"
          src="https://5horas.com.br/wp-content/uploads/2025/10/Logo-Light-Transparente-2000x500px.webp"
          alt="5Horas"
          data-brand-light="https://5horas.com.br/wp-content/uploads/2025/10/Logo-Light-Transparente-2000x500px.webp"
          data-brand-dark="https://5horas.com.br/wp-content/uploads/2025/10/Logo-Dark-Transparente-2000x500px.png"
        />
        <h1 id="page-title" data-i18n="auth.profile.title">Perfil</h1>
        <div class="toolbar" role="group" aria-label="Global actions">
          <div class="miniapp-menu" role="group" aria-label="Miniapps">
            <button
              id="btnMiniapps"
              class="ghost icon-only"
              type="button"
              aria-haspopup="dialog"
              aria-expanded="false"
              aria-controls="navigation-overlay"
            >
              <span class="sr-only" data-i18n="actions.openMiniappMenu">Abrir menu de miniapps</span>
              <span class="miniapp-menu__icon" aria-hidden="true">üß©</span>
            </button>
            <div id="nav-overlay-root"></div>
          </div>
          <div class="user-menu" role="group" aria-label="User menu">
            <button
              id="btnUser"
              class="ghost"
              type="button"
              aria-haspopup="dialog"
              aria-expanded="false"
              aria-controls="user-menu"
            >
              <span class="user-avatar" aria-hidden="true">üë§</span>
              <span
                id="current-user"
                class="sr-only"
                data-i18n="actions.openUserMenu"
              >
                Abrir menu do usu√°rio
              </span>
            </button>
          </div>
        </div>
      </header>
      <div class="layout">
        <aside id="sidebar" class="sidebar" aria-label="Navega√ß√£o principal">
          <nav>
            <ul>
              <li>
                <a href="../index.html" title="Dashboard">
                  <span class="icon" aria-hidden="true">üè†</span>
                  <span class="label" data-i18n="nav.dashboard">In√≠cio</span>
                </a>
              </li>
              <li>
                <a href="#" title="Atividades">
                  <span class="icon" aria-hidden="true">üóÇ</span>
                  <span class="label" data-i18n="nav.activity">Atividades</span>
                </a>
              </li>
              <li>
                <a href="#" title="An√°lises">
                  <span class="icon" aria-hidden="true">üìä</span>
                  <span class="label" data-i18n="nav.analytics">An√°lises</span>
                </a>
              </li>
              <li class="has-submenu">
                <button
                  id="miniapp-toggle"
                  class="submenu-toggle"
                  type="button"
                  aria-expanded="false"
                  aria-controls="miniapp-submenu"
                >
                  <span class="icon" aria-hidden="true">üß©</span>
                  <span class="label" data-i18n="nav.miniapps">Mini-apps</span>
                  <span class="submenu-caret" aria-hidden="true">‚ñæ</span>
                </button>
                <ul id="miniapp-submenu" class="submenu" hidden data-miniapp-menu></ul>
              </li>
            </ul>
          </nav>
        </aside>
        <main id="panel" class="panel" role="main" tabindex="-1">
          <section class="panel-content">
            <div class="profile-layout">
              <div class="profile-main">
                <article class="card profile-overview" aria-labelledby="profile-overview-title">
                  <header class="profile-identity">
                    <div class="profile-identity__avatar" aria-hidden="true">
                      <span data-profile-avatar>‚Äî</span>
                    </div>
                    <div class="profile-identity__summary">
                      <p class="profile-identity__kicker" data-i18n="auth.profile.overviewKicker">Perfil principal</p>
                      <h2 id="profile-overview-title" data-profile-identity-name>‚Äî</h2>
                      <p class="profile-identity__email">
                        <span data-profile-identity-email>‚Äî</span>
                      </p>
                      <span class="badge badge-role" data-profile-identity-role data-role="none">‚Äî</span>
                    </div>
                  </header>
                  <p class="profile-overview__description" data-i18n="auth.profile.overviewDescription">
                    Mantenha os dados atualizados para garantir acesso r√°pido e seguro.
                  </p>
                  <dl class="profile-stats">
                    <div>
                      <dt data-i18n="auth.profile.stats.totalUsers">Usu√°rios na conta</dt>
                      <dd data-profile-total-users>0</dd>
                    </div>
                    <div>
                      <dt data-i18n="auth.profile.stats.dependents">Usu√°rios dependentes</dt>
                      <dd data-profile-dependent-users>0</dd>
                    </div>
                    <div>
                      <dt data-i18n="auth.profile.stats.ownerSince">Propriet√°rio desde</dt>
                      <dd data-profile-owner-since>‚Äî</dd>
                    </div>
                  </dl>
                </article>
                <article class="card profile-card" id="profile-card">
                  <header class="card-header">
                    <h2 data-i18n="auth.profile.detailsTitle">Dados da conta</h2>
                    <p class="card-description" data-i18n="auth.profile.detailsDescription">
                      Edite as informa√ß√µes compartilhadas com toda a equipe.
                    </p>
                  </header>
                  <form id="profile-form" class="form" novalidate>
                    <fieldset>
                      <legend data-i18n="auth.profile.form.profileLegend">Dados pessoais</legend>
                      <div class="form-field">
                        <label for="profile-name" data-i18n="auth.form.name">Nome</label>
                        <input id="profile-name" name="name" type="text" autocomplete="name" required />
                      </div>
                      <div class="form-field">
                        <label for="profile-email" data-i18n="auth.form.email">E-mail</label>
                        <input id="profile-email" name="email" type="email" autocomplete="email" required />
                      </div>
                      <div class="form-field">
                        <label for="profile-role" data-i18n="auth.form.role">Perfil de acesso</label>
                        <select id="profile-role" name="role" required>
                          <option value="owner" data-i18n="auth.form.owner">Propriet√°rio</option>
                          <option value="member" data-i18n="auth.form.member">Membro</option>
                        </select>
                      </div>
                    </fieldset>
                    <div class="form-actions">
                      <button type="submit" class="cta" data-i18n="actions.save">Salvar</button>
                      <button type="reset" class="ghost" data-i18n="actions.cancel">Cancelar</button>
                    </div>
                    <p id="profile-form-feedback" class="feedback" role="status" aria-live="polite"></p>
                  </form>
                </article>
                <article class="card" id="user-management" hidden>
                  <header class="card-header">
                    <h2 data-i18n="auth.profile.userManagementTitle">Gerenciar usu√°rios</h2>
                    <button id="user-management-create" class="cta" type="button" data-i18n="auth.profile.userAdd">
                      Adicionar usu√°rio
                    </button>
                  </header>
                  <p class="card-description" data-i18n="auth.profile.userManagementDescription">
                    Convide dependentes para a conta, atualize dados compartilhados e transfira a propriedade quando necess√°rio.
                  </p>
                  <div class="table-wrapper">
                    <table class="user-management-table">
                      <thead>
                        <tr>
                          <th scope="col" data-i18n="auth.profile.userTable.name">Nome</th>
                          <th scope="col" data-i18n="auth.profile.userTable.email">E-mail</th>
                          <th scope="col" data-i18n="auth.profile.userTable.phone">Telefone</th>
                          <th scope="col" data-i18n="auth.profile.userTable.role">Perfil</th>
                          <th scope="col" data-i18n="auth.profile.userTable.createdAt">Criado em</th>
                          <th scope="col" data-i18n="auth.profile.userTable.actions">A√ß√µes</th>
                        </tr>
                      </thead>
                      <tbody id="user-management-list">
                        <tr>
                          <td colspan="6" data-i18n="auth.profile.userEmpty">Nenhum usu√°rio cadastrado.</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <p id="user-management-feedback" class="feedback" role="status" aria-live="polite"></p>
                  <form id="user-management-form" class="form" hidden novalidate>
                    <fieldset>
                      <legend id="user-management-form-title" data-i18n="auth.profile.userForm.title.create">Adicionar usu√°rio</legend>
                      <div class="form-field">
                        <label for="manage-name" data-i18n="auth.form.name">Nome</label>
                        <input id="manage-name" name="name" type="text" autocomplete="name" required />
                      </div>
                      <div class="form-field">
                        <label for="manage-email" data-i18n="auth.form.email">E-mail</label>
                        <input id="manage-email" name="email" type="email" autocomplete="email" required />
                      </div>
                      <div class="form-field">
                        <label for="manage-phone" data-i18n="auth.form.phone">Celular</label>
                        <input id="manage-phone" name="phone" type="tel" autocomplete="tel" required />
                      </div>
                      <div class="form-field">
                        <label for="manage-password" data-i18n="auth.form.password">Senha</label>
                        <input id="manage-password" name="password" type="password" autocomplete="new-password" required />
                        <small class="form-hint" data-i18n="auth.profile.userForm.passwordHint">
                          Defina uma senha tempor√°ria e compartilhe com o novo usu√°rio.
                        </small>
                      </div>
                      <div class="form-field">
                        <label for="manage-role" data-i18n="auth.form.role">Perfil de acesso</label>
                        <select id="manage-role" name="role">
                          <option value="owner" data-i18n="auth.form.owner">Propriet√°rio</option>
                          <option value="member" data-i18n="auth.form.member">Membro</option>
                        </select>
                      </div>
                    </fieldset>
                    <div class="form-actions">
                      <button id="user-management-submit" class="cta" type="submit" data-i18n="auth.profile.userForm.submit.create">
                        Adicionar
                      </button>
                      <button id="user-management-cancel" class="ghost" type="button" data-i18n="actions.cancel">Cancelar</button>
                    </div>
                  </form>
                </article>
              </div>
              <aside class="profile-sidebar">
                <article class="card profile-security">
                  <header class="card-header">
                    <h2 data-i18n="auth.profile.securityTitle">Seguran√ßa</h2>
                    <p class="card-description" data-i18n="auth.profile.securityDescription">
                      Atualize a senha periodicamente e mantenha a conta protegida.
                    </p>
                  </header>
                  <form id="password-form" class="form" novalidate>
                    <fieldset>
                      <legend class="sr-only" data-i18n="auth.profile.form.passwordLegend">Seguran√ßa</legend>
                      <div class="form-field">
                        <label for="password-current" data-i18n="auth.form.currentPassword">Senha atual</label>
                        <input id="password-current" name="currentPassword" type="password" autocomplete="current-password" required />
                      </div>
                      <div class="form-field">
                        <label for="password-new" data-i18n="auth.form.newPassword">Nova senha</label>
                        <input id="password-new" name="newPassword" type="password" autocomplete="new-password" required />
                      </div>
                      <div class="form-field">
                        <label for="password-confirm" data-i18n="auth.form.confirmPassword">Confirmar nova senha</label>
                        <input id="password-confirm" name="confirmPassword" type="password" autocomplete="new-password" required />
                      </div>
                    </fieldset>
                    <div class="form-actions">
                      <button type="submit" class="cta" data-i18n="auth.profile.form.updatePassword">Atualizar senha</button>
                      <button type="reset" class="ghost" data-i18n="actions.cancel">Cancelar</button>
                    </div>
                    <p id="password-form-feedback" class="feedback" role="status" aria-live="polite"></p>
                  </form>
                </article>
                <article class="card profile-quick-actions">
                  <header class="card-header">
                    <h2 data-i18n="auth.profile.quickActionsTitle">A√ß√µes r√°pidas</h2>
                    <p class="card-description" data-i18n="auth.profile.quickActionsDescription">
                      Finalize a sess√£o atual ou remova este acesso do dispositivo.
                    </p>
                  </header>
                  <div class="profile-actions">
                    <button id="profile-logout" class="cta secondary" type="button" data-i18n="auth.profile.logout">Encerrar sess√£o</button>
                    <button id="delete-account" class="cta danger" type="button" data-i18n="auth.profile.delete">Excluir conta</button>
                    <p id="profile-feedback" class="feedback" role="status" aria-live="polite"></p>
                  </div>
                </article>
              </aside>
            </div>
          </section>
        </main>
      </div>
      <footer id="app-footer" class="app-footer" role="contentinfo">
        <div class="footer-content">
          <div class="app-footer__top">
            <button
              type="button"
              class="app-footer__toggle"
              data-footer-toggle
              aria-expanded="false"
              aria-controls="app-footer-extra"
            >
              <small class="footer-copy">
                <span class="footer-copy__text">
                  <span data-footer-copyright>¬© 2024 5Horas Tecnologia Ltda.</span>
                  <span aria-hidden="true" class="app-footer__separator">‚Ä¢</span>
                  <span class="app-footer__brand-text">5Horas</span>
                </span>
                <img
                  class="app-footer__brand-image"
                  src="https://5horas.com.br/wp-content/uploads/2025/10/Logo-Light-Transparente-2000x500px.webp"
                  alt="5Horas"
                  data-brand-light="https://5horas.com.br/wp-content/uploads/2025/10/Logo-Light-Transparente-2000x500px.webp"
                  data-brand-dark="https://5horas.com.br/wp-content/uploads/2025/10/Logo-Dark-Transparente-2000x500px.png"
                />
              </small>
              <span class="app-footer__toggle-icon" aria-hidden="true">‚ñæ</span>
              <span
                class="sr-only app-footer__toggle-hint app-footer__toggle-hint--expand"
                data-i18n="footer.toggle.expand"
              >
                Mostrar informa√ß√µes adicionais do rodap√©
              </span>
              <span
                class="sr-only app-footer__toggle-hint app-footer__toggle-hint--collapse"
                data-i18n="footer.toggle.collapse"
              >
                Ocultar informa√ß√µes adicionais do rodap√©
              </span>
            </button>
            <div class="app-footer__summary" data-footer-condensed>
              <div class="app-footer__summary-content" data-footer-revision-target="condensed">
                <small class="footer-revision">
                  <span data-revision data-i18n="footer.revisionFallback">
                    MiniApp Base ¬∑ Revis√£o indispon√≠vel
                  </span>
                  <a
                    class="footer-revision__link footer-link"
                    href="../REVISION_LOG.md"
                    target="_blank"
                    rel="noopener noreferrer"
                    data-i18n="footer.revisionLog"
                  >
                    Log de revis√µes
                  </a>
                </small>
              </div>
              <small class="app-footer__contact">
                <span class="footer-links__label" data-i18n="footer.support.shortLabel">Suporte:</span>
                <a class="footer-link" data-footer-support-email href="mailto:suporte@5horas.com.br">
                  suporte@5horas.com.br
                </a>
              </small>
            </div>
          </div>
          <div
            id="app-footer-extra"
            class="footer-extra"
            data-footer-extra
            hidden
            aria-hidden="true"
          >
            <div class="footer-extra__grid">
              <section
                class="footer-section footer-section--legal"
                aria-labelledby="footer-legal-title"
                data-footer-section="legal"
              >
                <h2 id="footer-legal-title" class="footer-section__title" data-i18n="footer.section.legal">
                  Informa√ß√µes legais
                </h2>
                <p
                  class="footer-section__description"
                  data-i18n="footer.legal.summary"
                  data-footer-param="company,document,address"
                >
                  Operado por 5Horas Tecnologia Ltda. ‚Ä¢ CNPJ 00.000.000/0000-00 ‚Ä¢ Sede em S√£o Paulo, Brasil
                </p>
                <ul class="footer-links">
                  <li class="footer-links__item">
                    <a
                      class="footer-link"
                      href="https://5horas.com.br/politica-de-privacidade"
                      target="_blank"
                      rel="noopener noreferrer"
                      data-i18n="footer.links.privacy"
                    >
                      Pol√≠tica de Privacidade
                    </a>
                  </li>
                  <li class="footer-links__item">
                    <a
                      class="footer-link"
                      href="https://5horas.com.br/termos-de-uso"
                      target="_blank"
                      rel="noopener noreferrer"
                      data-i18n="footer.links.terms"
                    >
                      Termos de Uso
                    </a>
                  </li>
                </ul>
              </section>
              <section
                class="footer-section footer-section--support"
                aria-labelledby="footer-support-title"
                data-footer-section="support"
              >
                <h2 id="footer-support-title" class="footer-section__title" data-i18n="footer.section.support">
                  Suporte e assinaturas
                </h2>
                <ul class="footer-links">
                  <li class="footer-links__item">
                    <span class="footer-links__label" data-i18n="footer.support.contactLabel">Atendimento:</span>
                    <a class="footer-link" data-footer-support-email href="mailto:suporte@5horas.com.br">
                      suporte@5horas.com.br
                    </a>
                  </li>
                  <li class="footer-links__item">
                    <span
                      class="footer-links__label"
                      data-i18n="footer.support.hoursLabel"
                      data-footer-param="hours"
                    >
                      Hor√°rio de atendimento: seg‚Äìsex, 9h √†s 18h (BRT)
                    </span>
                  </li>
                  <li class="footer-links__item">
                    <span class="footer-links__label" data-i18n="footer.support.dpoLabel">Encarregado de dados:</span>
                    <a class="footer-link" data-footer-dpo-email href="mailto:privacidade@5horas.com.br">
                      privacidade@5horas.com.br
                    </a>
                  </li>
                  <li class="footer-links__item">
                    <a
                      class="footer-link"
                      href="https://5horas.com.br/suporte"
                      target="_blank"
                      rel="noopener noreferrer"
                      data-i18n="footer.links.supportCenter"
                    >
                      Central de suporte
                    </a>
                  </li>
                  <li class="footer-links__item footer-links__item--stacked">
                    <span class="footer-links__label" data-i18n="footer.support.manageLabel">Gerenciar assinatura:</span>
                    <div class="footer-link-group">
                      <a
                        class="footer-link"
                        href="https://support.apple.com/HT202039"
                        target="_blank"
                        rel="noopener noreferrer"
                        data-i18n="footer.links.manageSubscriptionApple"
                      >
                        Orienta√ß√µes para App Store
                      </a>
                      <a
                        class="footer-link"
                        href="https://support.google.com/googleplay/answer/7018481"
                        target="_blank"
                        rel="noopener noreferrer"
                        data-i18n="footer.links.manageSubscriptionGoogle"
                      >
                        Orienta√ß√µes para Google Play
                      </a>
                    </div>
                  </li>
                </ul>
              </section>
              <section
                class="footer-section footer-section--transparency"
                aria-labelledby="footer-transparency-title"
                data-footer-section="transparency"
              >
                <h2
                  id="footer-transparency-title"
                  class="footer-section__title"
                  data-i18n="footer.section.transparency"
                >
                  Transpar√™ncia
                </h2>
                <div class="footer-transparency">
                  <div
                    class="footer-transparency__item footer-transparency__item--revision"
                    data-footer-revision-target="expanded"
                  ></div>
                  <div class="footer-transparency__item footer-transparency__item--status">
                    <span class="footer-links__label" data-i18n="footer.transparency.memoryLabel">
                      Status de mem√≥ria:
                    </span>
                    <span id="mem-status" role="status" aria-live="polite">Mem√≥ria: verificando‚Ä¶</span>
                  </div>
                </div>
              </section>
              <section
                class="footer-section footer-section--stores"
                aria-labelledby="footer-stores-title"
                data-footer-section="channels"
              >
                <h2 id="footer-stores-title" class="footer-section__title" data-i18n="footer.section.channels">
                  Canais oficiais
                </h2>
                <p
                  class="footer-section__description"
                  data-i18n="footer.channels.description"
                >
                  Instale o app oficial nas lojas digitais.
                </p>
                <div class="footer-store-badges">
                  <a
                    class="store-badge store-badge--apple"
                    data-footer-store="app-store"
                    href="https://5horas.com.br/app-store"
                    target="_blank"
                    rel="noopener noreferrer"
                  >
                    <span class="store-badge__subtitle" data-i18n="footer.badges.downloadOn">Baixar na</span>
                    <span class="store-badge__title" data-i18n="footer.badges.appStore">App Store</span>
                  </a>
                  <a
                    class="store-badge store-badge--google"
                    data-footer-store="google-play"
                    href="https://5horas.com.br/google-play"
                    target="_blank"
                    rel="noopener noreferrer"
                  >
                    <span class="store-badge__subtitle" data-i18n="footer.badges.getItOn">Dispon√≠vel no</span>
                    <span class="store-badge__title" data-i18n="footer.badges.googlePlay">Google Play</span>
                  </a>
                </div>
              </section>
            </div>
          </div>
        </div>
      </footer>
    </div>
    <div
      id="user-menu"
      class="menu-overlay"
      role="dialog"
      aria-modal="true"
      aria-labelledby="user-menu-title"
      hidden
    >
      <div class="menu-overlay__panel" role="document" data-user-menu-panel>
        <header class="menu-overlay__header">
          <h2 id="user-menu-title" class="menu-overlay__title" data-i18n="settings.userMenuTitle">
            Menu do usu√°rio
          </h2>
          <button type="button" class="ghost icon-only menu-overlay__close" data-user-menu-close>
            <span class="sr-only" data-i18n="actions.close">Fechar</span>
            <span aria-hidden="true">‚úï</span>
          </button>
        </header>
        <ul class="menu">
          <li>
            <button id="btnLang" class="menu-item" type="button">
              <span class="menu-icon" aria-hidden="true" data-lang-icon>üáßüá∑</span>
              <span class="menu-text" data-i18n="settings.language">Idioma</span>
              <span class="sr-only" data-i18n="actions.toggleLanguage">Alternar idioma</span>
            </button>
          </li>
          <li>
            <button id="btnTheme" class="menu-item" type="button" aria-pressed="false">
              <span class="menu-icon" aria-hidden="true" data-theme-icon>‚òÄÔ∏è</span>
              <span class="menu-text" data-i18n="settings.theme">Tema</span>
              <span class="sr-only" data-i18n="actions.toggleTheme">Alternar tema</span>
            </button>
          </li>
          <li>
            <button id="btnUserPanel" class="menu-item" type="button">
              <span class="menu-icon" aria-hidden="true">üë§</span>
              <span class="menu-text" data-i18n="settings.userPanel">Painel do usu√°rio</span>
              <span class="sr-only" data-i18n="actions.openUserPanel">Abrir painel do usu√°rio</span>
            </button>
          </li>
          <li class="menu-divider" role="separator" aria-hidden="true"></li>
          <li>
            <button class="menu-item" type="button" data-action="profile">
              <span class="menu-icon" aria-hidden="true">üîê</span>
              <span class="menu-text" data-i18n="actions.profile">Perfil</span>
            </button>
          </li>
          <li>
            <button class="menu-item" type="button" data-action="logout">
              <span class="menu-icon" aria-hidden="true">üö™</span>
              <span class="menu-text" data-i18n="actions.logout">Sair</span>
            </button>
          </li>
        </ul>
      </div>
    </div>
    <script defer type="module" src="../sys/memory-status.js"></script>
    <script type="module" src="../app.js"></script>
  </body>
</html>
